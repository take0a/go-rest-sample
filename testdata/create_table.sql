DROP TABLE CUSTOMER;
DROP TABLE ORDER_HEADER;
DROP TABLE ORDER_DETAIL;
DROP TABLE PRODUCT;

CREATE TABLE CUSTOMER (
    CUSTOMER_ID int,
    NAME text,
    ADDRESS text,
    CONSTRAINT PK_CUSTOMER PRIMARY KEY(CUSTOMER_ID)
);

COMMENT ON TABLE CUSTOMER IS '顧客マスタ';
COMMENT ON COLUMN CUSTOMER.CUSTOMER_ID IS '顧客ID';
COMMENT ON COLUMN CUSTOMER.NAME IS '氏名';
COMMENT ON COLUMN CUSTOMER.ADDRESS IS '住所';

CREATE TABLE ORDER_HEADER (
    ORDER_ID int,
    CUSTOMER_ID int,
    ORDER_DATE date,
    CONSTRAINT PK_ORDER_HEADER PRIMARY KEY(ORDER_ID)
);

COMMENT ON TABLE ORDER_HEADER IS '注文';
COMMENT ON COLUMN ORDER_HEADER.ORDER_ID IS '受注ID';
COMMENT ON COLUMN ORDER_HEADER.CUSTOMER_ID IS '顧客ID';
COMMENT ON COLUMN ORDER_HEADER.ORDER_DATE IS '受注日';

CREATE TABLE ORDER_DETAIL (
    ORDER_ID int,
    ROW_NUMBER int,
    PRODUCT_ID int,
    QUANTITY int,
    PRICE_PER_UNIT int,
    CONSTRAINT PK_ORDER_DETAIL PRIMARY KEY(ORDER_ID, ROW_NUMBER)
);

COMMENT ON TABLE ORDER_DETAIL IS '注文明細';
COMMENT ON COLUMN ORDER_DETAIL.ORDER_ID IS '受注ID';
COMMENT ON COLUMN ORDER_DETAIL.ROW_NUMBER IS '行番号';
COMMENT ON COLUMN ORDER_DETAIL.PRODUCT_ID IS '製品ID';
COMMENT ON COLUMN ORDER_DETAIL.QUANTITY IS '数量';
COMMENT ON COLUMN ORDER_DETAIL.PRICE_PER_UNIT IS '販売単価';

CREATE TABLE PRODUCT (
    PRODUCT_ID int,
    NAME text,
    PRICE_PER_UNIT int,
    CONSTRAINT PK_PRODUCT PRIMARY KEY(PRODUCT_ID)
);

COMMENT ON TABLE PRODUCT IS '製品マスタ';
COMMENT ON COLUMN PRODUCT.PRODUCT_ID IS '製品ID';
COMMENT ON COLUMN PRODUCT.NAME IS '製品名';
COMMENT ON COLUMN PRODUCT.PRICE_PER_UNIT IS '標準単価';
